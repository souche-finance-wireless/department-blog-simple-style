<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript中的LHS查询和RHS查询 | 金融前端组博客</title>
    <meta name="description" content="theme config">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.17a259bd.css" as="style"><link rel="preload" href="/assets/js/app.d8dc4de0.js" as="script"><link rel="preload" href="/assets/js/3.939a3d56.js" as="script"><link rel="preload" href="/assets/js/14.5aa06685.js" as="script"><link rel="prefetch" href="/assets/js/1.711b03a7.js"><link rel="prefetch" href="/assets/js/10.6472db0c.js"><link rel="prefetch" href="/assets/js/11.677ed07b.js"><link rel="prefetch" href="/assets/js/12.659cefe8.js"><link rel="prefetch" href="/assets/js/13.94c8a086.js"><link rel="prefetch" href="/assets/js/15.bbc1ecca.js"><link rel="prefetch" href="/assets/js/16.57fb6c43.js"><link rel="prefetch" href="/assets/js/4.d5fcbb92.js"><link rel="prefetch" href="/assets/js/5.4f3cd6dd.js"><link rel="prefetch" href="/assets/js/6.fd7dbb40.js"><link rel="prefetch" href="/assets/js/7.fdd68d8e.js"><link rel="prefetch" href="/assets/js/8.07854424.js"><link rel="prefetch" href="/assets/js/9.aa12af57.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17a259bd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme__container sidebar-open"><div class="row"><div class="col-md-2"><div class="sidebar"><div class="group__title"><a href="/local/configurations/" style="color: #000">关于我们</a></div> <div class="group"><div class="group__title">语雀站点搭建指南</div> <div class="group__body"><div class="group__category category"><div class="category__label"><a href="/kaxpeo.html">语雀站点搭建指南</a></div></div>  </div></div><div class="group"><div class="group__title">移动端H5的屏幕适配</div> <div class="group__body"><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html">移动端H5的屏幕适配</a></div></div> <div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#一、相关概念">一、相关概念</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_1-1-屏幕相关">1.1 屏幕相关</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_1-2-像素">1.2 像素</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_1-3-retina屏幕">1.3 Retina屏幕</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_1-4-视窗-viewport">1.4 视窗(Viewport)</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#二、适配方案">二、适配方案</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_2-1-rem方案">2.1 Rem方案</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_2-2-vw方案">2.2 Vw方案</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_2-3-微信小程序的适配方案">2.3 微信小程序的适配方案</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_2-4-适配iphonex">2.4 适配Iphonex</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_2-5-横屏适配">2.5 横屏适配</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#三、其它常见问题">三、其它常见问题</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_3-1-1px问题">3.1 1px问题</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#_3-2-图片模糊问题">3.2 图片模糊问题</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#参考">参考</a></div></div><div class="group__category category"><div class="category__label"><a href="/rwa4h7.html#小结">小结</a></div></div> </div></div><div class="group"><div class="group__title">项目中遇到的问题总结</div> <div class="group__body"><div class="group__category category"><div class="category__label"><a href="/ouvmni.html">项目中遇到的问题总结</a></div></div>  </div></div><div class="group"><div class="group__title">JavaScript中的LHS查询和RHS查询</div> <div class="group__body"><div class="group__category category category--selected category--active"><div class="category__label"><a href="/gz116u.html" class="router-link-exact-active router-link-active">Javascript中的Lhs查询和Rhs查询</a></div></div>  <div name="/al6n26.html" class="group__category category"><div class="category__label"><a href="/al6n26.html">细说Javascript作用域和闭包</a></div> <div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#一、javascript有哪些作用域类型">一、Javascript有哪些作用域类型</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#二、作用域与标识符查询">二、作用域与标识符查询</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#执行环境与作用域链">执行环境与作用域链</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#标识符查询">标识符查询</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#三、可以形成独立作用域的结构">三、可以形成独立作用域的结构</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#函数作用域">函数作用域</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#块作用域">块作用域</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#四、提升">四、提升</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#提升的表现">提升的表现</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#提升的优先级">提升的优先级</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#提升的深层原因">提升的深层原因</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#五、跨越词法作用域的两种机制">五、跨越词法作用域的两种机制</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#eval">Eval</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#with-2">With</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#六、闭包与模块机制">六、闭包与模块机制</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#闭包">闭包</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/al6n26.html#模块机制">模块机制</a></div></div></div></div></div></div></div> <div class="col-md-10"><div class="page__container"><div custom="" class="content__default"><h1 id="javascript中的lhs查询和rhs查询"><a href="#javascript中的lhs查询和rhs查询" aria-hidden="true" class="header-anchor">#</a> JavaScript中的LHS查询和RHS查询</h1> <p><span>作者：叶伟</span></p><p>JavaScript中在预编译后执行代码时对变量的查询分为LHS（Left-Hand-Side）查询和RHS(Right-Hand-Side)查询。</p> <h3 id="一、lhs和rhs有什么区别？"><a href="#一、lhs和rhs有什么区别？" aria-hidden="true" class="header-anchor">#</a> 一、LHS和RHS有什么区别？</h3> <p>这里的L和R是指赋值时候“=” 的左侧还是右侧，也就是说一个是做被赋值，一个是取值。</p><p>正如下面这个例子，对变量a的引用是一个LHS引用，而对值2的引用是RHS引用</p><table class="lake-table"><colgroup><col width="40"><col width="360"></colgroup><tbody><tr><td style="text-align:left;"><div class="language-undefined line-numbers-mode"><pre class="language-text"><code> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></td><td style="text-align:left;"><div class="language-undefined line-numbers-mode"><pre class="language-text"><code> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></td></tr></tbody></table><p>当然，在js中赋值操作不仅仅限于“=”这种显式赋值。还有一些隐式的赋值，比如：</p><table class="lake-table"><colgroup><col width="40"><col width="360"></colgroup><tbody><tr><td style="text-align:left;"><div class="language-undefined line-numbers-mode"><pre class="language-text"><code> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></td><td style="text-align:left;"><div class="language-undefined line-numbers-mode"><pre class="language-text"><code> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></td></tr></tbody></table><p>这个例子中，执行函数foo的时候对foo进行了RHS引用，而对foo函数进行调用的时候隐藏着一个将2赋值给形式参数a的过程，即<code>a=2</code>，这里有对a的LHS引用。</p> <h3 id="二、为什么要区分lhs引用和rhs引用？"><a href="#二、为什么要区分lhs引用和rhs引用？" aria-hidden="true" class="header-anchor">#</a> 二、为什么要区分LHS引用和RHS引用？</h3> <p>这两种不同的引用方式的在对没有声明的变量的处理上是不同的。而这个不同之处对于我们编写代码和分析JS引擎报的错误是很有用处的。</p><ul><li>当对一个变量执行RHS查询时，如果遍历该变量所在处的词法作用域未能找到这个变量，JS引擎就会抛出 ReferenceError 错误如果成功查询到了这个变量，但是对这个变量执行不合理操作，比如对一个非数组的变量执行下标取值，JS引擎就会抛出 TypeError 错误。</li><li>当对一个变量执行LHS查询时，同样在遍历作用域后无法找到该变量，在非ES5的严格模式下，系统就会自动在全局作用域中创建一个同名变量，并将引用转移到该新建的全局变量中。而在ES5的严格模式下，LHS查询失败时JS引擎会抛出一个同RHS一样的 ReferenceError 错误。</li></ul><p>因此，对LHS查询和RHS查询的仔细区分和理解无论是对JS执行过程本身的理解还是分析错误都是有所好处的。</p><p style="text-align:left;"><br></p><p style="text-align:center;"><br></p><p><a target="_blank"></a><a target="_blank"></a><a target="_blank"></a><a target="_blank"></a><a target="_blank"></a></p></div> <div class="content__footer-container"><div class="content__footer"><div class="edit-link"><a href="https://github.com/souche-finance-wireless/department-blog-simple-style/edit/master/docs/gz116u.html.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面！</a> <svg viewBox="0 0 33 32" version="1.1" xmlns="http://www.w3.org/2000/svg" height="16" width="16"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="github" fill="#000"><path d="M16.3,0 C7.3,0 -3.55271368e-15,7.3 -3.55271368e-15,16.3 C-3.55271368e-15,23.5 4.7,29.6 11.1,31.8 C11.9,31.9 12.2,31.4 12.2,31 L12.2,28.2 C7.7,29.2 6.7,26 6.7,26 C6,24.2 5,23.7 5,23.7 C3.5,22.7 5.1,22.7 5.1,22.7 C6.7,22.8 7.6,24.4 7.6,24.4 C9.1,26.9 11.4,26.2 12.3,25.8 C12.4,24.7 12.9,24 13.3,23.6 C9.7,23.2 5.9,21.8 5.9,15.5 C5.9,13.7 6.5,12.3 7.6,11.1 C7.4,10.7 6.9,9 7.8,6.8 C7.8,6.8 9.2,6.4 12.3,8.5 C13.6,8.1 15,8 16.4,8 C17.8,8 19.2,8.2 20.5,8.5 C23.6,6.4 25,6.8 25,6.8 C25.9,9 25.3,10.7 25.2,11.1 C26.2,12.2 26.9,13.7 26.9,15.5 C26.9,21.8 23.1,23.1 19.5,23.5 C20.1,24 20.6,25 20.6,26.5 L20.6,31 C20.6,31.4 20.9,31.9 21.7,31.8 C28.2,29.6 32.8,23.5 32.8,16.3 C32.6,7.3 25.3,0 16.3,0 L16.3,0 Z" id="Shape"></path></g></g></svg></div> <!----></div></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8dc4de0.js" defer></script><script src="/assets/js/3.939a3d56.js" defer></script><script src="/assets/js/14.5aa06685.js" defer></script>
  </body>
</html>
